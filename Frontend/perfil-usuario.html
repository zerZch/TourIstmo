<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Perfil de Usuario - Jenna Smith</title>
    <link rel="stylesheet" href="css/global.css">
    <link rel="stylesheet" href="css/perfil-usuario.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Navbar Flotante -->
    <nav class="floating-navbar" id="navbar">
        <!-- Men√∫ Izquierdo -->
        <div class="menu-left">
            <a href="#destino" class="nav-link">Destino</a>
            <a href="#planes" class="nav-link">Planes</a>
            <a href="#perfil" class="nav-link">Perfil</a>
        </div>

        <!-- Logo Central -->
        <div class="menu-center">
            <a href="#" class="menu-title">
                <img class="logo-icon" src="img/logo.svg" alt="">
                <span>TourIstmo</span>
            </a>
        </div>

        <!-- Men√∫ Derecho -->
        <div class="menu-right">
            <a href="#login" class="cta-button-nav">Login</a>
        </div>

        <!-- Men√∫ m√≥vil hamburguesa -->
        <div class="mobile-menu-toggle" id="mobileToggle">
            <span></span>
            <span></span>
            <span></span>
        </div>
    </nav>


    <div class="container">
        <!-- Sidebar Izquierdo -->
        <aside class="sidebar">
            <!-- Informaci√≥n del Usuario -->
            <div class="user-info">
                <div class="user-avatar">
                    <img src="img/jenna.avif" alt="Jenna Smith">
                </div>
                <h1 class="user-name">Jenna Smith</h1>
                <p class="user-username">@jennasmith</p>
            </div>


            <!-- Estad√≠sticas -->
            <div class="user-stats">
                <div class="stat-item">
                    <span class="stat-number">42</span>
                    <span class="stat-label">Destinos</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">1,302</span>
                    <span class="stat-label">Seguidores</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">18K</span>
                    <span class="stat-label">Guardados</span>
                </div>
            </div>

            <div class="button-container">
                <button class="follow-btn">Seguir</button>
            </div>
        </aside>

        <!-- Contenido Principal -->
        <main class="main-content">
            <!-- Navegaci√≥n de Destinos -->
            <nav class="destinations-nav">
                <h3>Destinos Recientes</h3>
                <div class="destinations-tabs">
                    <button class="tab-btn active">Todos</button>
                    <button class="tab-btn">Visitados</button>
                    <button class="tab-btn">Pendientes</button>
                </div>
            </nav>

            <!-- Grid de Destinos -->
            <!-- Reemplazar toda la secci√≥n destinations-grid -->
            <section class="destinations-grid">
                <!-- El contenido ser√° generado din√°micamente por JavaScript -->
            </section>

            <!-- Agregar mensaje de no resultados -->
            <div id="noResults" class="no-results" style="display: none;">
                <p><i data-lucide="search-x"></i> No se encontraron destinos para esta categor√≠a.</p>
            </div>

            <!-- Agregar templates antes del cierre del body -->
            <template id="destination-link-template">
                <a href="" class="destination-link">
                    <article class="destination-card">
                        <div class="destination-image">
                            <img class="destination-img" src="" alt="">
                            <span class="destination-badge">
                                <span class="badge-text"></span>
                            </span>
                        </div>
                        <div class="destination-info">
                            <h4 class="destination-name"></h4>
                            <p class="destination-location"></p>
                            <p class="destination-type"></p>
                            <p class="destination-date"></p>
                            <p class="destination-date"></p>
                            <div class="destination-meta">
                                <span class="rating">
                                    <i data-lucide="star"></i>
                                    <span class="rating-value"></span>
                                </span>
                                <span class="price-text"></span>
                                <button class="save-btn" onclick="toggleSave(this)">
                                    <i data-lucide="heart"></i>
                                </button>
                            </div>
                        </div>
                    </article>
                </a>
            </template>

            <!-- Secci√≥n de Sitios Guardados -->
            <section class="saved-places">
                <div class="section-header">
                    <h3>Sitios Guardados</h3>
                    <div class="filter-buttons">
                        <button class="filter-btn active">Todos</button>
                        <button class="filter-btn">Restaurantes</button>
                        <button class="filter-btn">Hoteles</button>
                        <button class="filter-btn">Atracciones</button>
                    </div>
                </div>

                <div class="saved-grid">
                    <!-- Sitio Guardado 1 -->
                    <div class="saved-card">
                        <img src="https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=300" alt="Restaurante">
                        <div class="saved-info">
                            <h5>La Monta√±a Azul</h5>
                            <p>üç¥ Restaurante ‚Ä¢ Suiza</p>
                            <div class="saved-actions">
                                <span class="saved-rating">‚≠ê 4.9</span>
                                <button class="remove-btn">üóëÔ∏è</button>
                            </div>
                        </div>
                    </div>

                    <!-- Sitio Guardado 2 -->
                    <div class="saved-card">
                        <img src="https://images.unsplash.com/photo-1566073771259-6a8506099945?w=300" alt="Hotel">
                        <div class="saved-info">
                            <h5>Alpine Resort</h5>
                            <p>üè® Hotel ‚Ä¢ Austria</p>
                            <div class="saved-actions">
                                <span class="saved-rating">‚≠ê 4.7</span>
                                <button class="remove-btn">üóëÔ∏è</button>
                            </div>
                        </div>
                    </div>

                    <!-- Sitio Guardado 3 -->
                    <div class="saved-card">
                        <img src="https://images.unsplash.com/photo-1533284133567-0da9844151e0?w=300" alt="Mirador">
                        <div class="saved-info">
                            <h5>Mirador del √Åguila</h5>
                            <p>üèîÔ∏è Atracci√≥n ‚Ä¢ Per√∫</p>
                            <div class="saved-actions">
                                <span class="saved-rating">‚≠ê 5.0</span>
                                <button class="remove-btn">üóëÔ∏è</button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <article class="destination-card">
                <div class="destination-image">
                  <img src="..." alt="..." class="destination-img">
                  <span class="destination-badge">Visitado</span>
                </div>
                <div class="destination-info">
                  <h4 class="destination-name">Nombre del destino</h4>
                  <p class="destination-location">üìç Ubicaci√≥n</p>
                  <p class="destination-date">
                    <span class="destination-type"></span>
                  </p>
                  <p class="destination-date">
                    <span class="destination-type"></span>  
                  </p>

                  <div class="destination-meta">
                    <span class="destination-badge">
                        <span class="badge-text"></span>
                    </span>
                    <span class="rating">
                        <i data-lucide="star" class="icon filled"></i>
                        <span class="rating-value"></span>
                    </span>
                    <span class="price">
                        <span class="price-text"></span>
                    </span>
                    <button class="save-btn" onclick="toggleSave(this)">ü§ç</button>
                  </div>
            
                </div>
              </article>
        </main>

        <!-- Sidebar Derecho -->
        <aside class="right-sidebar">
            <!-- Informaci√≥n Adicional del Usuario -->
            <div class="user-details">
                <h3>Sobre m√≠</h3>
                <p class="user-bio">
                    Exploradora apasionada de monta√±as y paisajes naturales. 
                    Siempre en busca de nuevas aventuras y lugares por descubrir. 
                    Amante de la fotograf√≠a y las culturas locales.
                </p>
                
                <div class="user-meta">
                    <p><span class="icon">üìç</span> Barcelona, Espa√±a</p>
                    <p><span class="icon">üìÖ</span> Miembro desde 2021</p>
                    <p><span class="icon">üåê</span> <a href="#">jennasmith.travel</a></p>
                </div>

                <div class="action-buttons">
                    <button class="btn-primary" id="editProfileBtn">Editar Perfil</button>
                </div>
            </div>

            <!-- Widget de Actividad -->
            <div class="activity-widget">
                <h3>Actividad Reciente</h3>
                <div class="activity-list">
                    <div class="activity-item">
                        <span class="activity-icon">üì∏</span>
                        <p>A√±adi√≥ fotos a <strong>Picos de Europa</strong></p>
                        <span class="activity-time">Hace 2 horas</span>
                    </div>
                    <div class="activity-item">
                        <span class="activity-icon">üíú</span>
                        <p>Guard√≥ <strong>Mirador del √Åguila</strong></p>
                        <span class="activity-time">Hace 5 horas</span>
                    </div>
                    <div class="activity-item">
                        <span class="activity-icon">‚úàÔ∏è</span>
                        <p>Planific√≥ viaje a <strong>Patagonia</strong></p>
                        <span class="activity-time">Hace 1 d√≠a</span>
                    </div>
                </div>
            </div>
        </aside>
    </div>

    <!-- Modal de Edici√≥n de Perfil -->
    <div class="edit-profile-modal" id="editProfileModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Editar Perfil</h2>
                <button class="close-modal" id="closeModalBtn">&times;</button>
            </div>
            
            <form class="edit-profile-form" id="editProfileForm">
                <!-- Editar Foto de Perfil -->
                <div class="form-group">
                    <label>Foto de Perfil</label>
                    <div class="avatar-upload">
                        <div class="avatar-preview">
                            <img id="avatarPreview" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Crect width='400' height='400' fill='%23FF5A7D'/%3E%3Ctext x='200' y='200' font-size='180' fill='white' text-anchor='middle' alignment-baseline='middle'%3EJ%3C/text%3E%3C/svg%3E" alt="Avatar">
                        </div>
                        <input type="file" id="avatarInput" accept="image/*" hidden>
                        <button type="button" class="upload-btn" onclick="document.getElementById('avatarInput').click()">
                            Cambiar Foto
                        </button>
                    </div>
                </div>

                <!-- Editar Nombre -->
                <div class="form-group">
                    <label for="nameInput">Nombre Completo</label>
                    <input type="text" id="nameInput" class="form-input" value="Jenna Smith" required>
                </div>

                <!-- Editar Username -->
                <div class="form-group">
                    <label for="usernameInput">Nombre de Usuario</label>
                    <div class="input-with-prefix">
                        <span class="input-prefix">@</span>
                        <input type="text" id="usernameInput" class="form-input" value="jennasmith" required>
                    </div>
                </div>

                <!-- Editar Sobre M√≠ -->
                <div class="form-group">
                    <label for="bioInput">Sobre M√≠</label>
                    <textarea id="bioInput" class="form-textarea" rows="4" required>Exploradora apasionada de monta√±as y paisajes naturales. Siempre en busca de nuevas aventuras y lugares por descubrir. Amante de la fotograf√≠a y las culturas locales.</textarea>
                </div>

                <!-- Editar Ubicaci√≥n -->
                <div class="form-group">
                    <label for="locationInput">Ubicaci√≥n</label>
                    <input type="text" id="locationInput" class="form-input" value="Barcelona, Espa√±a" required>
                </div>

                <!-- Botones de Acci√≥n -->
                <div class="form-actions">
                    <button type="button" class="btn-cancel" id="cancelEditBtn">Cancelar</button>
                    <button type="submit" class="btn-save">Guardar Cambios</button>
                </div>
            </form>
        </div>
    </div>

    <!-- ===== Footer ===== -->
<footer class="footer">
    <div class="footer-container">
        <div class="footer-grid">
            <!-- Logo y descripci√≥n -->
            <div class="footer-brand">
                <a href="#" class="footer-logo">
                    <img class="logo-icon"  src="img/logowhite.png" alt="">
                    <span class="footer-logo-text">TourIstmo</span>
                </a>
                <p class="footer-description">
                    Explora, comparte y disfruta de los mejores destinos tur√≠sticos de Panam√°. 
                    Tu aventura comienza aqu√≠.
                </p>
            </div>
  
            <!-- Navegaci√≥n principal -->
            <div class="footer-section">
                <h4>TourIstmo</h4>
                <ul class="footer-links">
                    <li><a href="index.jsp">Inicio</a></li>
                    <li><a href="formulario.jsp">Agregar Destino</a></li>
                    <li><a href="planes.jsp">Planes Tur√≠sticos</a></li>
                    <li><a href="#">Blog</a></li>
                    <li><a href="#">Reservar</a></li>
                </ul>
            </div>
  
            <!-- Colaboraci√≥n y Soporte -->
            <div class="footer-section">
                <h4>Colabora</h4>
                <ul class="footer-links">
                    <li><a href="#">√önete al equipo</a></li>
                    <li><a href="#">Publica tus planes</a></li>
                </ul>
                
                <h4 style="margin-top: var(--spacing-lg);">Soporte</h4>
                <ul class="footer-links">
                    <li><a href="#">T√©rminos y Condiciones</a></li>
                    <li><a href="#">Privacidad</a></li>
                    <li><a href="#">Ayuda</a></li>
                </ul>
            </div>
  
            <!-- M√©todos de pago y app -->
            <div class="footer-section">
                <div class="footer-payments">
                    <h4>M√©todos de Pago</h4>
                    <div class="payment-methods">
                        <div class="payment-icon">
                            <img src="https://upload.wikimedia.org/wikipedia/commons/4/41/Visa_Logo.png" alt="Visa">
                        </div>
                        <div class="payment-icon">
                            <img src="https://upload.wikimedia.org/wikipedia/commons/0/04/Mastercard-logo.png" alt="Mastercard">
                        </div>
                        <div class="payment-icon">
                            <img src="https://upload.wikimedia.org/wikipedia/commons/b/b5/PayPal.svg" alt="PayPal">
                        </div>
                    </div>
                </div>
                
                <div class="footer-app">
                    <h4>Descarga la App</h4>
                    <a href="#" class="app-download">
                        <img src="https://developer.apple.com/assets/elements/badges/download-on-the-app-store.svg" alt="Descargar en App Store">
                    </a>
                </div>
            </div>
        </div>
  
        <div class="footer-bottom">
            <p class="footer-copyright">
                ¬© 2025 Touristmo. Todos los derechos reservados.
            </p>
        </div>
    </div>
  </footer>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
// Inicializar Lucide Icons
if (typeof lucide !== 'undefined') {
    lucide.createIcons();
}

// Placeholder para im√°genes que fallen
document.querySelectorAll('img').forEach(img => {
    img.onerror = function() {
        const w = this.width || 400, h = this.height || 300;
        const txt = this.alt.charAt(0).toUpperCase() || '?';
        this.src = `data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${w}' height='${h}'%3E%3Crect width='${w}' height='${h}' fill='%23E0E6ED'/%3E%3Ctext x='50%25' y='50%25' font-size='48' fill='%237F8C8D' text-anchor='middle' alignment-baseline='middle'%3E${txt}%3C/text%3E%3C/svg%3E`;
    };
});

// Modal de perfil
const modal = document.getElementById('editProfileModal');
const openBtn = document.getElementById('editProfileBtn');
const closeBtns = [document.getElementById('closeModalBtn'), document.getElementById('cancelEditBtn')];

if (modal && openBtn) {
    openBtn.onclick = () => { 
        modal.classList.add('active'); 
        document.body.style.overflow = 'hidden'; 
    };
    
    closeBtns.forEach(b => {
        if (b) {
            b.onclick = () => { 
                modal.classList.remove('active'); 
                document.body.style.overflow = 'auto'; 
            };
        }
    });
    
    modal.addEventListener('click', e => { 
        if (e.target === modal && closeBtns[0]) {
            closeBtns[0].onclick(); 
        }
    });
}

// Previews de im√°genes
['avatar', 'banner'].forEach(type => {
    const inp = document.getElementById(`${type}Input`);
    const prev = document.getElementById(`${type}Preview`);
    if (inp && prev) {
        inp.addEventListener('change', e => {
            const f = e.target.files[0];
            if (f && f.type.startsWith('image/')) {
                const r = new FileReader();
                r.onload = ev => prev.src = ev.target.result;
                r.readAsDataURL(f);
            }
        });
    }
});

// Guardar cambios de perfil
const editForm = document.getElementById('editProfileForm');
if (editForm) {
    editForm.addEventListener('submit', e => {
        e.preventDefault();
        const userName = document.querySelector('.user-name');
        const userUsername = document.querySelector('.user-username');
        const userBio = document.querySelector('.user-bio');
        const userMeta = document.querySelector('.user-meta p:first-child');
        const userAvatar = document.querySelector('.user-avatar img');
        const coverImage = document.querySelector('.cover-image img');
        
        if (userName) userName.textContent = document.getElementById('nameInput').value;
        if (userUsername) userUsername.textContent = '@' + document.getElementById('usernameInput').value;
        if (userBio) userBio.textContent = document.getElementById('bioInput').value;
        if (userMeta) userMeta.innerHTML = '<i data-lucide="map-pin" class="icon"></i> ' + document.getElementById('locationInput').value;
        if (userAvatar) userAvatar.src = document.getElementById('avatarPreview').src;
        if (coverImage) coverImage.src = document.getElementById('bannerPreview').src;
        
        // Reinicializar iconos despu√©s de actualizar el DOM
        if (typeof lucide !== 'undefined') {
            lucide.createIcons();
        }
        
        modal.classList.remove('active');
        document.body.style.overflow = 'auto';
        alert('Perfil actualizado correctamente!');
    });
}

// Cargar destinos de ejemplo
loadDestinations(exampleDestinations);

// INICIALIZAR FILTROS DESPU√âS DE CARGAR LA P√ÅGINA
initializeFilters();
});

// Funci√≥n para cargar destinos din√°micamente
function loadDestinations(destinations) {
const grid = document.querySelector('.destinations-grid');
const template = document.querySelector('#destination-card-template');
const linkTemplate = document.querySelector('#destination-link-template');

if (!grid || !template) return;

// Limpiar grid existente
grid.innerHTML = '';

destinations.forEach(destination => {
    // Decidir qu√© template usar basado en si tiene URL
    const templateToUse = destination.url ? linkTemplate : template;
    if (!templateToUse) return;
    
    const clone = templateToUse.content.cloneNode(true);
    
    // Configurar la imagen
    const img = clone.querySelector('.destination-img');
    if (img) {
        img.src = destination.imagen || destination.image;
        img.alt = destination.nombre || destination.name;
        
        // Agregar manejo de error para im√°genes din√°micas
        img.onerror = function() {
            const w = this.width || 400, h = this.height || 300;
            const txt = this.alt.charAt(0).toUpperCase() || '?';
            this.src = `data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${w}' height='${h}'%3E%3Crect width='${w}' height='${h}' fill='%23E0E6ED'/%3E%3Ctext x='50%25' y='50%25' font-size='48' fill='%237F8C8D' text-anchor='middle' alignment-baseline='middle'%3E${txt}%3C/text%3E%3C/svg%3E`;
        };
    }
    
    // Configurar informaci√≥n b√°sica
    const nameElement = clone.querySelector('.destination-name');
    if (nameElement) nameElement.textContent = destination.nombre || destination.name;
    
    const locationElement = clone.querySelector('.destination-location');
    if (locationElement) {
        locationElement.innerHTML = `<i data-lucide="map-pin"></i> ${destination.provincia || destination.ubicacion || destination.location}`;
    }
    
    // Configurar tipo/categor√≠a con icono
    const typeElements = clone.querySelectorAll('.destination-type');
    typeElements.forEach(typeElement => {
        if (typeElement && destination.tipo) {
            const typeIcon = getTypeIcon(destination.tipo);
            typeElement.innerHTML = `<i data-lucide="${typeIcon}"></i> ${destination.tipo}`;
        }
    });
    
    // Configurar rating con icono
    const ratingValue = clone.querySelector('.rating-value');
    if (ratingValue) {
        ratingValue.textContent = destination.rating || '4.5';
    }
    
    // Configurar precio
    const priceText = clone.querySelector('.price-text');
    if (priceText && destination.precio) {
        priceText.innerHTML = `<i data-lucide="dollar-sign"></i> ${destination.precio}`;
    }
    
    // Configurar badge si existe
    const badgeText = clone.querySelector('.badge-text');
    if (badgeText && destination.estado) {
        badgeText.textContent = destination.estado;
        const badgeElement = clone.querySelector('.destination-badge');
        if (badgeElement) {
            badgeElement.className = `destination-badge ${destination.estado.toLowerCase()}`;
        }
    }
    
    // Configurar estado de visita en las fechas
    const dateElements = clone.querySelectorAll('.destination-date');
    if (dateElements.length > 0) {
        if (destination.visitado) {
            dateElements[0].innerHTML = `<i data-lucide="check-circle"></i> Visitado en ${destination.visitado}`;
        } else {
            dateElements[0].innerHTML = `<i data-lucide="clock"></i> Pendiente por visitar`;
        }
        
        // Segunda fecha para informaci√≥n adicional si existe
        if (dateElements[1] && destination.duracion) {
            dateElements[1].innerHTML = `<i data-lucide="timer"></i> ${destination.duracion}`;
        }
    }
    
    // Configurar URL si es un enlace
    if (destination.url) {
        const linkElement = clone.querySelector('.destination-link');
        if (linkElement) linkElement.href = destination.url;
    }
    
    // Configurar estado de favorito
    const saveBtn = clone.querySelector('.save-btn');
    if (saveBtn && destination.favorito) {
        saveBtn.dataset.saved = 'true';
        saveBtn.classList.add('saved');
        saveBtn.innerHTML = '<i data-lucide="heart"></i>';
    } else if (saveBtn) {
        saveBtn.innerHTML = '<i data-lucide="heart"></i>';
    }
    
    grid.appendChild(clone);
});

// Reinicializar los iconos de Lucide despu√©s de agregar el contenido
if (typeof lucide !== 'undefined') {
    lucide.createIcons();
}
}

// Funci√≥n para obtener el icono seg√∫n el tipo de destino
function getTypeIcon(tipo) {
const iconMap = {
    'Naturaleza': 'tree-pine',
    'Hist√≥rico': 'landmark',
    'Museo': 'building',
    'Playa': 'waves',
    'Aventura': 'mountain',
    'Gastronom√≠a': 'utensils',
    'Cultura': 'palette',
    'Religioso': 'church',
    'Arqueol√≥gico': 'pyramid',
    'Parque': 'trees'
};
return iconMap[tipo] || 'map-pin';
}

// Funci√≥n para alternar el estado de guardado/favorito
function toggleSave(button) {
const isSaved = button.dataset.saved === 'true';
button.dataset.saved = !isSaved;

// Cambiar el icono visual
if (!isSaved) {
    button.innerHTML = '<i data-lucide="heart" class="filled"></i>';
    button.classList.add('saved');
} else {
    button.innerHTML = '<i data-lucide="heart"></i>';
    button.classList.remove('saved');
}

// Reinicializar iconos
if (typeof lucide !== 'undefined') {
    lucide.createIcons();
}

// Aqu√≠ puedes agregar l√≥gica para guardar/quitar de favoritos
console.log('Toggled save state:', !isSaved);
}

// Ejemplo de datos de destinos - ACTUALIZADO con nueva estructura
const exampleDestinations = [
{
    nombre: "Biomuseo",
    imagen: "https://images.unsplash.com/photo-1566073771259-6a8506099945?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80",
    provincia: "Panam√°",
    precio: "$25",
    rating: "4.5",
    tipo: "Museo",
    estado: "Visitado",
    visitado: "marzo 2024",
    duracion: "2-3 horas",
    favorito: true
},
{
    nombre: "Casco Viejo",
    imagen: "https://images.unsplash.com/photo-1540610410855-b4c8877b761c?q=80&w=2848&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",
    provincia: "Panam√°",
    precio: "Gratis",
    rating: "4.8",
    tipo: "Hist√≥rico",
    estado: "Visitado",
    visitado: "enero 2024",
    duracion: "Medio d√≠a",
    favorito: false
},
{
    nombre: "Parque Nacional Soberan√≠a",
    imagen: "https://images.unsplash.com/photo-1518837695005-2083093ee35b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80",
    provincia: "Panam√°",
    precio: "$60",
    rating: "4.8",
    tipo: "Naturaleza",
    estado: "Pendiente",
    duracion: "D√≠a completo",
    favorito: true
},
{
    nombre: "Esclusas de Miraflores",
    imagen: "https://images.unsplash.com/photo-1645932700624-5075c8d2df58?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",
    provincia: "Panam√°",
    precio: "$18",
    rating: "4.9",
    tipo: "Hist√≥rico",
    estado: "Visitado",
    visitado: "febrero 2024",
    duracion: "2 horas",
    favorito: true
},
{
    nombre: "Isla Taboga",
    imagen: "https://images.unsplash.com/photo-1544551763-46a013bb70d5?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80",
    provincia: "Panam√°",
    precio: "$35",
    rating: "4.6",
    tipo: "Playa",
    estado: "Pendiente",
    duracion: "D√≠a completo",
    favorito: false
},
{
    nombre: "Cerro Anc√≥n",
    imagen: "https://images.unsplash.com/photo-1441974231531-c6227db76b6e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80",
    provincia: "Panam√°",
    precio: "Gratis",
    rating: "4.4",
    tipo: "Naturaleza",
    estado: "Visitado",
    visitado: "abril 2024",
    duracion: "1-2 horas",
    favorito: false
},
{
    nombre: "Mercado de Mariscos",
    imagen: "https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80",
    provincia: "Panam√°",
    precio: "$40",
    rating: "4.3",
    tipo: "Gastronom√≠a",
    estado: "Pendiente",
    duracion: "2 horas",
    favorito: true
},
{
    nombre: "Catedral Metropolitana",
    imagen: "https://images.unsplash.com/photo-1578662996442-48f60103fc96?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80",
    provincia: "Panam√°",
    precio: "Gratis",
    rating: "4.2",
    tipo: "Religioso",
    estado: "Visitado",
    visitado: "mayo 2024",
    duracion: "1 hora",
    favorito: false
}
];

// FUNCI√ìN PARA INICIALIZAR LOS FILTROS
function initializeFilters() {
// Obtener elementos del DOM despu√©s de que se haya cargado
const tabButtons = document.querySelectorAll('.tab-btn');

// Verificar que los elementos existen
if (tabButtons.length === 0) {
    console.log('No se encontraron botones de filtro (.tab-btn)');
    return;
}

// Funci√≥n para filtrar destinos
function filterDestinations(category) {
    // Buscar las tarjetas cada vez que se filtra (porque se generan din√°micamente)
    const destinationCards = document.querySelectorAll('.destination-card');
    const noResults = document.getElementById('noResults');
    let visibleCards = 0;
    
    console.log('Filtrando por categor√≠a:', category);
    console.log('Tarjetas encontradas:', destinationCards.length);

    if (destinationCards.length === 0) {
        console.log('No se encontraron tarjetas de destino (.destination-card)');
        return;
    }

    // Procesar cada tarjeta
    destinationCards.forEach((card, index) => {
        // Obtener la categor√≠a del destino
        const categoryElement = card.querySelector('.destination-type');
        const cardCategory = categoryElement ? categoryElement.textContent.toLowerCase().replace(/.*\s/, '') : '';
        
        // Tambi√©n verificar el estado del destino (visitado/pendiente)
        const stateElement = card.querySelector('.destination-badge .badge-text');
        const cardState = stateElement ? stateElement.textContent.toLowerCase() : '';
        
        console.log(`Tarjeta ${index}: categor√≠a="${cardCategory}", estado="${cardState}"`);
        
        // Resetear animaci√≥n
        card.style.animation = 'none';
        card.style.animationDelay = '0s';
        
        // Verificar si debe mostrarse
        let shouldShow = false;
        
        if (category === 'todos') {
            shouldShow = true;
        } else if (category === 'visitados') {
            shouldShow = cardState === 'visitado';
        } else if (category === 'pendientes') {
            shouldShow = cardState === 'pendiente';
        } else if (category === 'favoritos') {
            const saveBtn = card.querySelector('.save-btn');
            shouldShow = saveBtn && (saveBtn.dataset.saved === 'true' || saveBtn.classList.contains('saved'));
        } else {
            shouldShow = cardCategory === category;
        }
        
        if (shouldShow) {
            card.classList.remove('hidden');
            card.style.display = 'block';
            
            // Aplicar animaci√≥n con delay
            setTimeout(() => {
                card.style.animationDelay = `${visibleCards * 0.1}s`;
                card.style.animation = 'fadeInUp 0.6s ease forwards';
            }, 10);
            
            visibleCards++;
        } else {
            card.classList.add('hidden');
            card.style.display = 'none';
        }
    });

    console.log('Tarjetas visibles:', visibleCards);

    // Mostrar/ocultar mensaje de "no hay resultados"
    if (noResults) {
        if (visibleCards === 0) {
            noResults.classList.add('show');
            noResults.style.display = 'block';
        } else {
            noResults.classList.remove('show');
            noResults.style.display = 'none';
        }
    } else if (visibleCards === 0) {
        // Si no existe el elemento noResults, crear uno temporalmente
        const grid = document.querySelector('.destinations-grid');
        if (grid) {
            let tempMessage = grid.querySelector('.temp-no-results');
            if (!tempMessage) {
                tempMessage = document.createElement('div');
                tempMessage.className = 'temp-no-results';
                tempMessage.innerHTML = '<p><i data-lucide="search-x"></i> No se encontraron destinos para esta categor√≠a.</p>';
                tempMessage.style.cssText = 'text-align: center; padding: 2rem; color: #666; grid-column: 1/-1;';
                grid.appendChild(tempMessage);
                if (typeof lucide !== 'undefined') {
                    lucide.createIcons();
                }
            }
            tempMessage.style.display = 'block';
        }
    } else {
        // Ocultar mensaje temporal si existe
        const tempMessage = document.querySelector('.temp-no-results');
        if (tempMessage) {
            tempMessage.style.display = 'none';
        }
    }
}

// Event listeners para los botones de filtro
tabButtons.forEach(button => {
    button.addEventListener('click', function() {
        console.log('Bot√≥n clickeado:', this.dataset.category);
        
        // Remover clase active de todos los botones
        tabButtons.forEach(btn => btn.classList.remove('active'));
        
        // A√±adir clase active al bot√≥n clickeado
        this.classList.add('active');
        
        // Filtrar destinos seg√∫n la categor√≠a seleccionada
        const category = this.dataset.category;
        filterDestinations(category);
    });
});

// Event listeners para botones de favorito
document.addEventListener('click', function(e) {
    if (e.target.closest('.save-btn')) {
        const button = e.target.closest('.save-btn');
        toggleSave(button);
    }
});

// Animaci√≥n inicial (esperar un poco m√°s para que se carguen los destinos)
setTimeout(() => {
    filterDestinations('todos');
}, 500);
}

// CSS para las animaciones y estilos espec√≠ficos de destinos
const style = document.createElement('style');
style.textContent = `
@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.destination-card.hidden {
    display: none !important;
}

.destination-card {
    animation-fill-mode: both;
}

.temp-no-results {
    display: none;
    text-align: center;
    padding: 2rem;
    color: #666;
    grid-column: 1/-1;
}

.temp-no-results i {
    margin-right: 0.5rem;
}

.tab-btn {
    transition: all 0.3s ease;
}

.tab-btn.active {
    background-color: #007bff;
    color: white;
}

.destination-badge.visitado {
    background-color: #28a745;
    color: white;
}

.destination-badge.pendiente {
    background-color: #ffc107;
    color: #212529;
}

.destination-location i,
.destination-type i,
.destination-date i,
.price-text i {
    margin-right: 0.5rem;
    width: 16px;
    height: 16px;
}

.save-btn {
    border: none;
    background: none;
    cursor: pointer;
    padding: 0.5rem;
    border-radius: 50%;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: center;
}

.save-btn:hover {
    background-color: rgba(0, 0, 0, 0.1);
    transform: scale(1.1);
}

.save-btn.saved {
    animation: pulse 0.3s ease;
}

.save-btn.saved i {
    color: #ff6b6b;
    fill: #ff6b6b;
}

.save-btn i {
    width: 20px;
    height: 20px;
    transition: all 0.2s ease;
}

.rating i {
    color: #ffd700;
    fill: #ffd700;
    margin-right: 0.25rem;
}

@keyframes pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.2); }
    100% { transform: scale(1); }
}

/* Estilos adicionales para iconos */
.destination-type i {
    color: #007bff;
}

.destination-location i {
    color: #dc3545;
}

.destination-date i {
    color: #28a745;
}

.price-text i {
    color: #28a745;
}
`;
document.head.appendChild(style);
</script>
</body>
</html>